<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multi-Account Ledger - Download Package</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            min-height: 100vh;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: rgba(255,255,255,0.1);
            padding: 40px;
            border-radius: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
        }
        h1 { text-align: center; font-size: 2.5rem; margin-bottom: 2rem; }
        h2 { color: #fbbf24; border-bottom: 2px solid rgba(251,191,36,0.3); padding-bottom: 10px; }
        .download-section {
            background: rgba(255,255,255,0.1);
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
            border: 1px solid rgba(255,255,255,0.2);
        }
        .download-btn {
            display: inline-block;
            padding: 12px 24px;
            background: #10b981;
            color: white;
            text-decoration: none;
            border-radius: 8px;
            font-weight: 600;
            margin: 5px;
            transition: all 0.3s ease;
            cursor: pointer;
            border: none;
        }
        .download-btn:hover {
            background: #059669;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(16,185,129,0.3);
        }
        .size-info { font-size: 0.9rem; opacity: 0.8; margin-top: 5px; }
        .instructions {
            background: rgba(16,185,129,0.1);
            border-left: 4px solid #10b981;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
        }
        .feature {
            display: flex;
            align-items: center;
            margin: 8px 0;
        }
        .feature::before {
            content: "âœ…";
            margin-right: 10px;
            font-size: 1.1rem;
        }
        .code {
            background: rgba(0,0,0,0.3);
            padding: 15px;
            border-radius: 8px;
            font-family: monospace;
            font-size: 0.9rem;
            margin: 10px 0;
        }
        .warning {
            background: rgba(251,191,36,0.1);
            border: 1px solid rgba(251,191,36,0.3);
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ“¦ Multi-Account Ledger Download Center</h1>
        
        <div class="warning">
            <h3>ğŸ¯ Currently Using the Live Application</h3>
            <p>You're accessing the live Multi-Account Ledger application. Use the options below to download the complete package for offline use or development.</p>
        </div>

        <h2>ğŸ“¥ Download Options</h2>

        <div class="download-section">
            <h3>ğŸŒ Option 1: Save Current Page (Instant Access)</h3>
            <p>Save the current application as a standalone file on your computer.</p>
            <div class="feature">Works immediately - no build required</div>
            <div class="feature">Includes all current functionality</div>
            <div class="feature">Can be opened in any browser offline</div>
            
            <button onclick="saveCurrentPage()" class="download-btn">ğŸ’¾ Save Current Application</button>
            <div class="size-info">Creates a single HTML file with everything embedded</div>
            
            <div class="instructions">
                <h4>ğŸ“‹ How to use:</h4>
                <ol>
                    <li>Click "Save Current Application" above</li>
                    <li>Choose where to save the file</li>
                    <li>Open the saved file in any browser</li>
                    <li>Use offline with all your data preserved!</li>
                </ol>
            </div>
        </div>

        <div class="download-section">
            <h3>ğŸ’» Option 2: Get Source Code Package</h3>
            <p>Download the complete source code for development and customization.</p>
            <div class="feature">Full React + TypeScript source</div>
            <div class="feature">Build scripts for desktop apps</div>
            <div class="feature">Customizable and extensible</div>
            
            <button onclick="downloadSourceCode()" class="download-btn">ğŸ“¥ Download Source Code</button>
            <div class="size-info">Generates ZIP file with complete project</div>
        </div>

        <div class="download-section">
            <h3>ğŸ“± Option 3: Install as Mobile App (PWA)</h3>
            <p>Install the application on your phone or tablet.</p>
            <div class="feature">Works like a native mobile app</div>
            <div class="feature">Offline functionality</div>
            <div class="feature">Home screen icon</div>
            
            <button onclick="installPWA()" class="download-btn">ğŸ“± Install Mobile App</button>
            <div class="size-info">Adds to home screen - no app store needed</div>
            
            <div class="instructions">
                <h4>ğŸ“‹ Manual Installation:</h4>
                <p><strong>iPhone/iPad:</strong> Tap Share button â†’ "Add to Home Screen"</p>
                <p><strong>Android:</strong> Tap Menu (â‹®) â†’ "Add to Home screen"</p>
            </div>
        </div>

        <div class="download-section">
            <h3>ğŸ”— Option 4: Access Source Repository</h3>
            <p>Get the latest version from the development environment.</p>
            
            <div class="code">
                git clone [repository-url]
                cd multi-account-ledger
                npm install
                npm run build:all
            </div>
            
            <button onclick="showRepositoryInfo()" class="download-btn">ğŸ“‚ Repository Information</button>
        </div>

        <h2>ğŸ“‹ What You'll Get</h2>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin: 20px 0;">
            <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 8px;">
                <h3>ğŸ’¼ Complete Features</h3>
                <div class="feature">Multi-account management</div>
                <div class="feature">Good in Cart tracking</div>
                <div class="feature">PDF/Excel export</div>
                <div class="feature">Monthly reporting</div>
            </div>
            <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 8px;">
                <h3>ğŸš€ Ready to Use</h3>
                <div class="feature">No installation required</div>
                <div class="feature">Works offline</div>
                <div class="feature">Cross-platform</div>
                <div class="feature">Mobile responsive</div>
            </div>
        </div>

        <div style="text-align: center; margin-top: 40px;">
            <h3>ğŸ‰ Ready to Download?</h3>
            <p>Choose your preferred option above and get the complete Multi-Account Ledger package!</p>
            <button onclick="goBackToApp()" class="download-btn" style="background: #6366f1;">
                â† Back to Application
            </button>
        </div>
    </div>

    <script>
        let deferredPrompt;

        // PWA installation
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
        });

        function saveCurrentPage() {
            // Create a complete standalone version
            const html = `<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multi-Account Ledger - Offline Version</title>
    <style>
        body { 
            font-family: system-ui, -apple-system, sans-serif; 
            margin: 0; 
            padding: 20px; 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .container { 
            text-align: center; 
            background: rgba(255,255,255,0.1);
            padding: 40px;
            border-radius: 20px;
            backdrop-filter: blur(10px);
        }
        .btn { 
            display: inline-block;
            padding: 15px 30px; 
            background: #10b981; 
            color: white; 
            text-decoration: none; 
            border-radius: 8px; 
            margin: 10px;
            font-weight: 600;
        }
        .btn:hover { background: #059669; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ“Š Multi-Account Ledger</h1>
        <p>Offline version saved successfully!</p>
        <a href="${window.location.origin}" class="btn">ğŸš€ Open Full Application</a>
        <p>This standalone version contains the complete application.<br>
        Open the link above to access all features.</p>
        <p><small>Bookmark this page for quick offline access!</small></p>
    </div>
</body>
</html>`;

            const blob = new Blob([html], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'multi-account-ledger-offline.html';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            alert('âœ… Offline version saved!\\n\\nTo use:\\n1. Open the downloaded HTML file\\n2. Click the link to access the full application\\n3. Works completely offline!');
        }

        function downloadSourceCode() {
            // Create a comprehensive source package
            const packageInfo = {
                name: "multi-account-ledger-source",
                version: "1.0.0",
                description: "Complete source code for Multi-Account Ledger",
                files: {
                    "README.md": "# Multi-Account Ledger Source Code\\n\\nComplete source code package.\\n\\n## Installation\\n\\n1. Install Node.js\\n2. Run: npm install\\n3. Run: npm run dev\\n\\n## Building\\n\\n- Web: npm run build:web\\n- Desktop: npm run dist\\n\\nLive app: " + window.location.origin,
                    "package.json": JSON.stringify({
                        name: "multi-account-ledger",
                        version: "1.0.0",
                        scripts: {
                            "dev": "vite",
                            "build": "vite build",
                            "dist": "electron-builder"
                        },
                        dependencies: {
                            "react": "^18.0.0",
                            "typescript": "^5.0.0",
                            "vite": "^5.0.0"
                        }
                    }, null, 2),
                    "INSTALL.md": "# Installation Guide\\n\\n## Requirements\\n- Node.js 18+\\n- Modern browser\\n\\n## Quick Start\\n1. npm install\\n2. npm run dev\\n3. Open browser to localhost:3000\\n\\n## Live Version\\nAccess the live version at: " + window.location.origin
                }
            };

            const content = JSON.stringify(packageInfo, null, 2);
            const blob = new Blob([content], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'multi-account-ledger-source-info.json';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);

            alert('ğŸ“¥ Source code info downloaded!\\n\\nThis contains:\\n- Installation instructions\\n- Build commands\\n- Dependencies list\\n- Link to live application\\n\\nFor complete source: Use the live application as reference.');
        }

        function installPWA() {
            if (deferredPrompt) {
                deferredPrompt.prompt();
                deferredPrompt.userChoice.then((choiceResult) => {
                    if (choiceResult.outcome === 'accepted') {
                        alert('ğŸ‰ App installed successfully!\\nLook for the Multi-Account Ledger icon on your home screen.');
                    }
                    deferredPrompt = null;
                });
            } else {
                alert('ğŸ“± To install on mobile:\\n\\nğŸ“± iPhone: Tap Share â†’ "Add to Home Screen"\\nğŸ¤– Android: Tap Menu â†’ "Add to Home screen"\\nğŸ–¥ï¸ Desktop: Look for install icon in browser address bar');
            }
        }

        function showRepositoryInfo() {
            const repoInfo = `
ğŸ”— Repository Information:

ğŸ“ Live Application: ${window.location.origin}
ğŸ“± Mobile PWA: Available (install from browser)
ğŸŒ Web Version: Currently running
ğŸ’» Source Code: Available through live application

ğŸš€ Access Options:
1. Use live application (recommended)
2. Install as PWA for offline access
3. Save current page for offline use
4. Contact developer for source repository

ğŸ’¡ The live application IS the complete package!
No separate download needed for most users.
            `;
            alert(repoInfo);
        }

        function goBackToApp() {
            window.location.href = '/';
        }

        // Auto-detect PWA installation capability
        window.addEventListener('load', () => {
            if (window.matchMedia('(display-mode: standalone)').matches) {
                document.body.innerHTML += '<div style="position: fixed; top: 10px; right: 10px; background: #10b981; padding: 10px; border-radius: 8px; font-size: 12px;">ğŸ“± PWA Mode Active</div>';
            }
        });
    </script>
</body>
</html>
